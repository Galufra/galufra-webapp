<!DOCTYPE html><html xmlns:date="http://exslt.org/dates-and-times" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
<meta charset="utf-8">
<title>phpDocumentor » \Smarty_CacheResource_KeyValueStore</title>
<meta name="author" content="Mike van Riel">
<meta name="description" content="">
<link href="../css/template.css" rel="stylesheet" media="all">
<script src="../js/jquery-1.7.1.min.js" type="text/javascript"></script><script src="../js/jquery-ui-1.8.2.custom.min.js" type="text/javascript"></script><script src="../js/jquery.mousewheel.min.js" type="text/javascript"></script><script src="../js/bootstrap.js" type="text/javascript"></script><script src="../js/template.js" type="text/javascript"></script><script src="../js/prettify/prettify.min.js" type="text/javascript"></script><link rel="shortcut icon" href="../img/favicon.ico">
<link rel="apple-touch-icon" href="../img/apple-touch-icon.png">
<link rel="apple-touch-icon" sizes="72x72" href="../img/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="114x114" href="../img/apple-touch-icon-114x114.png">
</head>
<body>
<div class="navbar navbar-fixed-top">
<div class="navbar-inner"><div class="container">
<a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></a><a class="brand" href="../index.html">phpDocumentor</a><div class="nav-collapse"><ul class="nav">
<li class="dropdown">
<a href="#api" class="dropdown-toggle" data-toggle="dropdown">
                                    API Documentation <b class="caret"></b></a><ul class="dropdown-menu">
<li><a>Packages</a></li>
<li><a href="../packages/Default.html"><i class="icon-folder-open"></i> Default</a></li>
<li><a href="../packages/Smarty.html"><i class="icon-folder-open"></i> Smarty</a></li>
</ul>
</li>
<li class="dropdown" id="charts-menu">
<a href="#charts" class="dropdown-toggle" data-toggle="dropdown">
                                    Charts <b class="caret"></b></a><ul class="dropdown-menu"><li><a href="../graph_class.html"><i class="icon-list-alt"></i> Class hierarchy diagram</a></li></ul>
</li>
<li class="dropdown" id="reports-menu">
<a href="#reports" class="dropdown-toggle" data-toggle="dropdown">
                                    Reports <b class="caret"></b></a><ul class="dropdown-menu">
<li><a href="../errors.html"><i class="icon-remove-sign"></i> Errors 
                <span class="label label-info">824</span></a></li>
<li><a href="../markers.html"><i class="icon-map-marker"></i> Markers 
                <ul>
<li>todo 
                <span class="label label-info">4</span>
</li>
<li>fixme 
                <span class="label label-info">7</span>
</li>
</ul></a></li>
<li><a href="../deprecated.html"><i class="icon-stop"></i> Deprecated elements 
                <span class="label label-info">3</span></a></li>
</ul>
</li>
</ul></div>
</div></div>
<div class="go_to_top"><a href="#___" style="color: inherit">Back to top  <i class="icon-upload icon-white"></i></a></div>
</div>
<div id="___" class="container">
<noscript><div class="alert alert-warning">
                            Javascript is disabled; several features are only available
                            if Javascript is enabled.
                        </div></noscript>
<div class="row">
<div class="span4">
<span class="btn-group visibility" data-toggle="buttons-checkbox"><button class="btn public active" title="Show public elements">Public</button><button class="btn protected" title="Show protected elements">Protected</button><button class="btn private" title="Show private elements">Private</button><button class="btn inherited active" title="Show inherited elements">Inherited</button></span><div class="btn-group view pull-right" data-toggle="buttons-radio">
<button class="btn details" title="Show descriptions and method names"><i class="icon-list"></i></button><button class="btn simple" title="Show only method names"><i class="icon-align-justify"></i></button>
</div>
<ul class="side-nav nav nav-list">
<li class="nav-header">
<i class="icon-custom icon-method"></i> Methods</li>
<li class="method public "><a href="#acquireLock" title="acquireLock :: Lock cache for this template"><span class="description">Lock cache for this template</span><pre>acquireLock()</pre></a></li>
<li class="method public "><a href="#clear" title="clear :: Empty cache for a specific template"><span class="description">Empty cache for a specific template</span><pre>clear()</pre></a></li>
<li class="method public "><a href="#clearAll" title="clearAll :: Empty cache"><span class="description">Empty cache</span><pre>clearAll()</pre></a></li>
<li class="method public inherited"><a href="#getCachedContent" title="getCachedContent :: Return cached content"><span class="description">Return cached content</span><pre>getCachedContent()</pre></a></li>
<li class="method public "><a href="#hasLock" title="hasLock :: Check is cache is locked for this template"><span class="description">Check is cache is locked for this template</span><pre>hasLock()</pre></a></li>
<li class="method public inherited"><a href="#invalidLoadedCache" title="invalidLoadedCache :: Invalid Loaded Cache Files"><span class="description">Invalid Loaded Cache Files</span><pre>invalidLoadedCache()</pre></a></li>
<li class="method public inherited"><a href="#load" title="load :: Load Cache Resource Handler"><span class="description">Load Cache Resource Handler</span><pre>load()</pre></a></li>
<li class="method public inherited"><a href="#locked" title="locked :: "><span class="description">locked()
        </span><pre>locked()</pre></a></li>
<li class="method public "><a href="#populate" title="populate :: populate Cached Object with meta data from Resource"><span class="description">populate Cached Object with meta data from Resource</span><pre>populate()</pre></a></li>
<li class="method public "><a href="#populateTimestamp" title="populateTimestamp :: populate Cached Object with timestamp and exists from Resource"><span class="description">populate Cached Object with timestamp and exists from Resource</span><pre>populateTimestamp()</pre></a></li>
<li class="method public "><a href="#process" title="process :: Read the cached template and process the header"><span class="description">Read the cached template and process the header</span><pre>process()</pre></a></li>
<li class="method public "><a href="#releaseLock" title="releaseLock :: Unlock cache for this template"><span class="description">Unlock cache for this template</span><pre>releaseLock()</pre></a></li>
<li class="method public "><a href="#writeCachedContent" title="writeCachedContent :: Write the rendered template output to cache"><span class="description">Write the rendered template output to cache</span><pre>writeCachedContent()</pre></a></li>
<li class="nav-header protected">» Protected</li>
<li class="method protected "><a href="#addMetaTimestamp" title="addMetaTimestamp :: Add current microtime to the beginning of $cache_content"><span class="description">Add current microtime to the beginning of $cache_content</span><pre>addMetaTimestamp()</pre></a></li>
<li class="method protected "><a href="#delete" title="delete :: Remove values from cache"><span class="description">Remove values from cache</span><pre>delete()</pre></a></li>
<li class="method protected "><a href="#fetch" title="fetch :: Fetch and prepare a cache object."><span class="description">Fetch and prepare a cache object.</span><pre>fetch()</pre></a></li>
<li class="method protected "><a href="#getLatestInvalidationTimestamp" title="getLatestInvalidationTimestamp :: Determine the latest timestamp known to the invalidation chain"><span class="description">Determine the latest timestamp known to the invalidation chain</span><pre>getLatestInvalidationTimestamp()</pre></a></li>
<li class="method protected "><a href="#getMetaTimestamp" title="getMetaTimestamp :: Extract the timestamp the $content was cached"><span class="description">Extract the timestamp the $content was cached</span><pre>getMetaTimestamp()</pre></a></li>
<li class="method protected "><a href="#getTemplateUid" title="getTemplateUid :: Get template's unique ID"><span class="description">Get template's unique ID</span><pre>getTemplateUid()</pre></a></li>
<li class="method protected "><a href="#invalidate" title="invalidate :: Invalidate CacheID"><span class="description">Invalidate CacheID</span><pre>invalidate()</pre></a></li>
<li class="method protected "><a href="#listInvalidationKeys" title="listInvalidationKeys :: Translate a CacheID into the list of applicable InvalidationKeys."><span class="description">Translate a CacheID into the list of applicable InvalidationKeys.</span><pre>listInvalidationKeys()</pre></a></li>
<li class="method protected "><a href="#purge" title="purge :: Remove *all* values from cache"><span class="description">Remove *all* values from cache</span><pre>purge()</pre></a></li>
<li class="method protected "><a href="#read" title="read :: Read values for a set of keys from cache"><span class="description">Read values for a set of keys from cache</span><pre>read()</pre></a></li>
<li class="method protected "><a href="#sanitize" title="sanitize :: Sanitize CacheID components"><span class="description">Sanitize CacheID components</span><pre>sanitize()</pre></a></li>
<li class="method protected "><a href="#write" title="write :: Save values for a set of keys to cache"><span class="description">Save values for a set of keys to cache</span><pre>write()</pre></a></li>
<li class="nav-header">
<i class="icon-custom icon-property"></i> Properties</li>
<li class="property public inherited"><a href="#%24resources" title="$resources :: cache for Smarty_CacheResource instances"><span class="description">cache for Smarty_CacheResource instances</span><pre>$resources</pre></a></li>
<li class="nav-header protected">» Protected</li>
<li class="property protected "><a href="#%24contents" title="$contents :: cache for contents"><span class="description">cache for contents</span><pre>$contents</pre></a></li>
<li class="property protected inherited"><a href="#%24sysplugins" title="$sysplugins :: resource types provided by the core"><span class="description">resource types provided by the core</span><pre>$sysplugins</pre></a></li>
<li class="property protected "><a href="#%24timestamps" title="$timestamps :: cache for timestamps"><span class="description">cache for timestamps</span><pre>$timestamps</pre></a></li>
</ul>
</div>
<div class="span8">
<a name="%5CSmarty_CacheResource_KeyValueStore" id="\Smarty_CacheResource_KeyValueStore"></a><ul class="breadcrumb">
<li>
<a href="../index.html"><i class="icon-custom icon-class"></i></a><span class="divider">\</span>
</li>
<li><a href="../namespaces/global.html">global</a></li>
<li class="active">
<span class="divider">\</span><a href="../classes/Smarty_CacheResource_KeyValueStore.html">Smarty_CacheResource_KeyValueStore</a>
</li>
</ul>
<div href="../classes/Smarty_CacheResource_KeyValueStore.html" class="element class">
<p class="short_description">Smarty Cache Handler Base for Key/Value Storage Implementations</p>
<div class="details">
<p class="long_description"><p>This class implements the functionality required to use simple key/value stores
for hierarchical cache groups. key/value stores like memcache or APC do not support
wildcards in keys, therefore a cache group cannot be cleared like "a|*" - which
is no problem to filesystem and RDBMS implementations.</p>

<p>This implementation is based on the concept of invalidation. While one specific cache
can be identified and cleared, any range of caches cannot be identified. For this reason
each level of the cache group hierarchy can have its own value in the store. These values
are nothing but microtimes, telling us when a particular cache group was cleared for the
last time. These keys are evaluated for every cache read to determine if the cache has
been invalidated since it was created and should hence be treated as inexistent.</p>

<p>Although deep hierarchies are possible, they are not recommended. Try to keep your
cache groups as shallow as possible. Anything up 3-5 parents should be ok. So
»a|b|c« is a good depth where »a|b|c|d|e|f|g|h|i|j|k« isn't. Try to join correlating
cache groups: if your cache groups look somewhat like »a|b|$page|$items|$whatever«
consider using »a|b|c|$page-$items-$whatever« instead.</p></p>
<table class="table table-bordered">
<tr>
<th>package</th>
<td><a href="../packages/Smarty.Cacher.html">Smarty</a></td>
</tr>
<tr>
<th>subpackage</th>
<td>Cacher</td>
</tr>
<tr>
<th>author</th>
<td><a href="">Rodney Rehm</a></td>
</tr>
</table>
<h3>
<i class="icon-custom icon-method"></i> Methods</h3>
<a name="acquireLock" id="acquireLock"></a><div class="element clickable method public acquireLock" data-toggle="collapse" data-target=".acquireLock .collapse">
<h2>Lock cache for this template</h2>
<pre>acquireLock(\Smarty $smarty, \Smarty_Template_Cached $cached) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$smarty</h4>
<code><a href="../classes/Smarty.html">\Smarty</a></code><p>Smarty object</p></div>
<div class="subelement argument">
<h4>$cached</h4>
<code><a href="../classes/Smarty_Template_Cached.html">\Smarty_Template_Cached</a></code><p>cached object</p></div>
</div></div>
</div>
<a name="clear" id="clear"></a><div class="element clickable method public clear" data-toggle="collapse" data-target=".clear .collapse">
<h2>Empty cache for a specific template</h2>
<pre>clear(\Smarty $smarty, string $resource_name, string $cache_id, string $compile_id, integer $exp_time) : integer</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p></p></p>
<table class="table table-bordered">
<tr>
<th>uses</th>
<td>\global\buildCachedFilepath()</td>
</tr>
<tr>
<th>uses</th>
<td>\global\invalidate()</td>
</tr>
<tr>
<th>uses</th>
<td>\global\delete()</td>
</tr>
</table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$smarty</h4>
<code><a href="../classes/Smarty.html">\Smarty</a></code><p>Smarty object</p></div>
<div class="subelement argument">
<h4>$resource_name</h4>
<code>string</code><p>template name</p></div>
<div class="subelement argument">
<h4>$cache_id</h4>
<code>string</code><p>cache id</p></div>
<div class="subelement argument">
<h4>$compile_id</h4>
<code>string</code><p>compile id</p></div>
<div class="subelement argument">
<h4>$exp_time</h4>
<code>integer</code><p>expiration time [being ignored]</p>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>integer</code>number of cache files deleted [always -1]</div>
</div></div>
</div>
<a name="clearAll" id="clearAll"></a><div class="element clickable method public clearAll" data-toggle="collapse" data-target=".clearAll .collapse">
<h2>Empty cache</h2>
<pre>clearAll(\Smarty $smarty, integer $exp_time) : integer</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p></p></p>
<table class="table table-bordered">
<tr>
<th>uses</th>
<td>\global\purge()</td>
</tr>
<tr>
<th>uses</th>
<td>\global\invalidate()</td>
</tr>
</table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$smarty</h4>
<code><a href="../classes/Smarty.html">\Smarty</a></code><p>Smarty object</p></div>
<div class="subelement argument">
<h4>$exp_time</h4>
<code>integer</code><p>expiration time [being ignored]</p>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>integer</code>number of cache files deleted [always -1]</div>
</div></div>
</div>
<a name="getCachedContent" id="getCachedContent"></a><div class="element clickable method public getCachedContent" data-toggle="collapse" data-target=".getCachedContent .collapse">
<h2>Return cached content</h2>
<pre>getCachedContent(\Smarty_Internal_Template $_template) </pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>inherited_from</th>
<td>\Smarty_CacheResource::getCachedContent()</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$_template</h4>
<code><a href="../classes/Smarty_Internal_Template.html">\Smarty_Internal_Template</a></code><p>template object</p></div>
</div></div>
</div>
<a name="hasLock" id="hasLock"></a><div class="element clickable method public hasLock" data-toggle="collapse" data-target=".hasLock .collapse">
<h2>Check is cache is locked for this template</h2>
<pre>hasLock(\Smarty $smarty, \Smarty_Template_Cached $cached) : \booelan</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$smarty</h4>
<code><a href="../classes/Smarty.html">\Smarty</a></code><p>Smarty object</p></div>
<div class="subelement argument">
<h4>$cached</h4>
<code><a href="../classes/Smarty_Template_Cached.html">\Smarty_Template_Cached</a></code><p>cached object</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>\booelan</code>true or false if cache is locked</div>
</div></div>
</div>
<a name="invalidLoadedCache" id="invalidLoadedCache"></a><div class="element clickable method public invalidLoadedCache" data-toggle="collapse" data-target=".invalidLoadedCache .collapse">
<h2>Invalid Loaded Cache Files</h2>
<pre>invalidLoadedCache(\Smarty $smarty) </pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>inherited_from</th>
<td>\Smarty_CacheResource::invalidLoadedCache()</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$smarty</h4>
<code><a href="../classes/Smarty.html">\Smarty</a></code><p>Smarty object</p></div>
</div></div>
</div>
<a name="load" id="load"></a><div class="element clickable method public load" data-toggle="collapse" data-target=".load .collapse">
<h2>Load Cache Resource Handler</h2>
<pre>load(\Smarty $smarty, string $type) : <a href="../classes/Smarty_CacheResource.html">\Smarty_CacheResource</a></pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>inherited_from</th>
<td>\Smarty_CacheResource::load()</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$smarty</h4>
<code><a href="../classes/Smarty.html">\Smarty</a></code><p>Smarty object</p></div>
<div class="subelement argument">
<h4>$type</h4>
<code>string</code><p>name of the cache resource</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code><a href="../classes/Smarty_CacheResource.html">\Smarty_CacheResource</a></code>Cache Resource Handler</div>
</div></div>
</div>
<a name="locked" id="locked"></a><div class="element clickable method public locked" data-toggle="collapse" data-target=".locked .collapse">
<h2>locked()
        </h2>
<pre>locked(\Smarty $smarty, \Smarty_Template_Cached $cached) </pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>inherited_from</th>
<td>\Smarty_CacheResource::locked()</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument"><h4>$smarty</h4></div>
<div class="subelement argument"><h4>$cached</h4></div>
</div></div>
</div>
<a name="populate" id="populate"></a><div class="element clickable method public populate" data-toggle="collapse" data-target=".populate .collapse">
<h2>populate Cached Object with meta data from Resource</h2>
<pre>populate(\Smarty_Template_Cached $cached, \Smarty_Internal_Template $_template) : void</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$cached</h4>
<code><a href="../classes/Smarty_Template_Cached.html">\Smarty_Template_Cached</a></code><p>cached object</p></div>
<div class="subelement argument">
<h4>$_template</h4>
<code><a href="../classes/Smarty_Internal_Template.html">\Smarty_Internal_Template</a></code><p>template object</p></div>
</div></div>
</div>
<a name="populateTimestamp" id="populateTimestamp"></a><div class="element clickable method public populateTimestamp" data-toggle="collapse" data-target=".populateTimestamp .collapse">
<h2>populate Cached Object with timestamp and exists from Resource</h2>
<pre>populateTimestamp(\Smarty_Template_Cached $cached) : void</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$cached</h4>
<code><a href="../classes/Smarty_Template_Cached.html">\Smarty_Template_Cached</a></code><p>cached object</p></div>
</div></div>
</div>
<a name="process" id="process"></a><div class="element clickable method public process" data-toggle="collapse" data-target=".process .collapse">
<h2>Read the cached template and process the header</h2>
<pre>process(\Smarty_Internal_Template $_template, \Smarty_Template_Cached $cached) : \booelan</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$_template</h4>
<code><a href="../classes/Smarty_Internal_Template.html">\Smarty_Internal_Template</a></code><p>template object</p></div>
<div class="subelement argument">
<h4>$cached</h4>
<code><a href="../classes/Smarty_Template_Cached.html">\Smarty_Template_Cached</a></code><p>cached object</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>\booelan</code>true or false if the cached content does not exist</div>
</div></div>
</div>
<a name="releaseLock" id="releaseLock"></a><div class="element clickable method public releaseLock" data-toggle="collapse" data-target=".releaseLock .collapse">
<h2>Unlock cache for this template</h2>
<pre>releaseLock(\Smarty $smarty, \Smarty_Template_Cached $cached) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$smarty</h4>
<code><a href="../classes/Smarty.html">\Smarty</a></code><p>Smarty object</p></div>
<div class="subelement argument">
<h4>$cached</h4>
<code><a href="../classes/Smarty_Template_Cached.html">\Smarty_Template_Cached</a></code><p>cached object</p></div>
</div></div>
</div>
<a name="writeCachedContent" id="writeCachedContent"></a><div class="element clickable method public writeCachedContent" data-toggle="collapse" data-target=".writeCachedContent .collapse">
<h2>Write the rendered template output to cache</h2>
<pre>writeCachedContent(\Smarty_Internal_Template $_template, string $content) : boolean</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$_template</h4>
<code><a href="../classes/Smarty_Internal_Template.html">\Smarty_Internal_Template</a></code><p>template object</p></div>
<div class="subelement argument">
<h4>$content</h4>
<code>string</code><p>content to cache</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>boolean</code>success</div>
</div></div>
</div>
<a name="addMetaTimestamp" id="addMetaTimestamp"></a><div class="element clickable method protected addMetaTimestamp" data-toggle="collapse" data-target=".addMetaTimestamp .collapse">
<h2>Add current microtime to the beginning of $cache_content</h2>
<pre>addMetaTimestamp(string $content) </pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p></p></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$content</h4>
<code>string</code><p>&$content the content to be cached</p>
</div>
</div></div>
</div>
<a name="delete" id="delete"></a><div class="element clickable method protected delete" data-toggle="collapse" data-target=".delete .collapse">
<h2>Remove values from cache</h2>
<pre>delete(array $keys) : boolean</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$keys</h4>
<code>array</code><p>list of keys to delete</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>boolean</code>true on success, false on failure</div>
</div></div>
</div>
<a name="fetch" id="fetch"></a><div class="element clickable method protected fetch" data-toggle="collapse" data-target=".fetch .collapse">
<h2>Fetch and prepare a cache object.</h2>
<pre>fetch(string $cid, string $resource_name, string $cache_id, string $compile_id, string $content, integer $timestamp, string $resource_uid) : boolean</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$cid</h4>
<code>string</code><p>CacheID to fetch</p></div>
<div class="subelement argument">
<h4>$resource_name</h4>
<code>string</code><p>template name</p></div>
<div class="subelement argument">
<h4>$cache_id</h4>
<code>string</code><p>cache id</p></div>
<div class="subelement argument">
<h4>$compile_id</h4>
<code>string</code><p>compile id</p></div>
<div class="subelement argument">
<h4>$content</h4>
<code>string</code><p>cached content</p></div>
<div class="subelement argument">
<h4>$timestamp</h4>
<code>integer</code><p>&$timestamp cached timestamp (epoch)</p>
</div>
<div class="subelement argument">
<h4>$resource_uid</h4>
<code>string</code><p>resource's uid</p>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>boolean</code>success</div>
</div></div>
</div>
<a name="getLatestInvalidationTimestamp" id="getLatestInvalidationTimestamp"></a><div class="element clickable method protected getLatestInvalidationTimestamp" data-toggle="collapse" data-target=".getLatestInvalidationTimestamp .collapse">
<h2>Determine the latest timestamp known to the invalidation chain</h2>
<pre>getLatestInvalidationTimestamp(string $cid, string $resource_name, string $cache_id, string $compile_id, string $resource_uid) : float</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$cid</h4>
<code>string</code><p>CacheID to determine latest invalidation timestamp of</p></div>
<div class="subelement argument">
<h4>$resource_name</h4>
<code>string</code><p>template name</p></div>
<div class="subelement argument">
<h4>$cache_id</h4>
<code>string</code><p>cache id</p></div>
<div class="subelement argument">
<h4>$compile_id</h4>
<code>string</code><p>compile id</p></div>
<div class="subelement argument">
<h4>$resource_uid</h4>
<code>string</code><p>source's filepath</p>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>float</code>the microtime the CacheID was invalidated</div>
</div></div>
</div>
<a name="getMetaTimestamp" id="getMetaTimestamp"></a><div class="element clickable method protected getMetaTimestamp" data-toggle="collapse" data-target=".getMetaTimestamp .collapse">
<h2>Extract the timestamp the $content was cached</h2>
<pre>getMetaTimestamp(string $content) : float</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$content</h4>
<code>string</code><p>&$content the cached content</p>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>float</code>the microtime the content was cached</div>
</div></div>
</div>
<a name="getTemplateUid" id="getTemplateUid"></a><div class="element clickable method protected getTemplateUid" data-toggle="collapse" data-target=".getTemplateUid .collapse">
<h2>Get template's unique ID</h2>
<pre>getTemplateUid(\Smarty $smarty, string $resource_name, string $cache_id, string $compile_id) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$smarty</h4>
<code><a href="../classes/Smarty.html">\Smarty</a></code><p>Smarty object</p></div>
<div class="subelement argument">
<h4>$resource_name</h4>
<code>string</code><p>template name</p></div>
<div class="subelement argument">
<h4>$cache_id</h4>
<code>string</code><p>cache id</p></div>
<div class="subelement argument">
<h4>$compile_id</h4>
<code>string</code><p>compile id</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>filepath of cache file</div>
</div></div>
</div>
<a name="invalidate" id="invalidate"></a><div class="element clickable method protected invalidate" data-toggle="collapse" data-target=".invalidate .collapse">
<h2>Invalidate CacheID</h2>
<pre>invalidate(string $cid, string $resource_name, string $cache_id, string $compile_id, string $resource_uid) : void</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$cid</h4>
<code>string</code><p>CacheID</p></div>
<div class="subelement argument">
<h4>$resource_name</h4>
<code>string</code><p>template name</p></div>
<div class="subelement argument">
<h4>$cache_id</h4>
<code>string</code><p>cache id</p></div>
<div class="subelement argument">
<h4>$compile_id</h4>
<code>string</code><p>compile id</p></div>
<div class="subelement argument">
<h4>$resource_uid</h4>
<code>string</code><p>source's uid</p>
</div>
</div></div>
</div>
<a name="listInvalidationKeys" id="listInvalidationKeys"></a><div class="element clickable method protected listInvalidationKeys" data-toggle="collapse" data-target=".listInvalidationKeys .collapse">
<h2>Translate a CacheID into the list of applicable InvalidationKeys.</h2>
<pre>listInvalidationKeys(string $cid, string $resource_name, string $cache_id, string $compile_id, string $resource_uid) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"><p>Splits "some|chain|into|an|array" into array( '#clearAll#', 'some', 'some|chain', 'some|chain|into', ... )</p></p>
<table class="table table-bordered"><tr>
<th>uses</th>
<td>\global\$invalidationKeyPrefix</td>
</tr></table>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$cid</h4>
<code>string</code><p>CacheID to translate</p></div>
<div class="subelement argument">
<h4>$resource_name</h4>
<code>string</code><p>template name</p></div>
<div class="subelement argument">
<h4>$cache_id</h4>
<code>string</code><p>cache id</p></div>
<div class="subelement argument">
<h4>$compile_id</h4>
<code>string</code><p>compile id</p></div>
<div class="subelement argument">
<h4>$resource_uid</h4>
<code>string</code><p>source's filepath</p>
</div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>list of InvalidationKeys</div>
</div></div>
</div>
<a name="purge" id="purge"></a><div class="element clickable method protected purge" data-toggle="collapse" data-target=".purge .collapse">
<h2>Remove *all* values from cache</h2>
<pre>purge() : boolean</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Returns</h3>
<div class="subelement response">
<code>boolean</code>true on success, false on failure</div>
</div></div>
</div>
<a name="read" id="read"></a><div class="element clickable method protected read" data-toggle="collapse" data-target=".read .collapse">
<h2>Read values for a set of keys from cache</h2>
<pre>read(array $keys) : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$keys</h4>
<code>array</code><p>list of keys to fetch</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>array</code>list of values with the given keys used as indexes</div>
</div></div>
</div>
<a name="sanitize" id="sanitize"></a><div class="element clickable method protected sanitize" data-toggle="collapse" data-target=".sanitize .collapse">
<h2>Sanitize CacheID components</h2>
<pre>sanitize(string $string) : string</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$string</h4>
<code>string</code><p>CacheID component to sanitize</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>string</code>sanitized CacheID component</div>
</div></div>
</div>
<a name="write" id="write"></a><div class="element clickable method protected write" data-toggle="collapse" data-target=".write .collapse">
<h2>Save values for a set of keys to cache</h2>
<pre>write(array $keys, int $expire) : boolean</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<h3>Parameters</h3>
<div class="subelement argument">
<h4>$keys</h4>
<code>array</code><p>list of values to save</p></div>
<div class="subelement argument">
<h4>$expire</h4>
<code>int</code><p>expiration time</p></div>
<h3>Returns</h3>
<div class="subelement response">
<code>boolean</code>true on success, false on failure</div>
</div></div>
</div>
<h3>
<i class="icon-custom icon-property"></i> Properties</h3>
<a name="%24resources" id="$resources"> </a><div class="element clickable property public $resources" data-toggle="collapse" data-target=".$resources .collapse">
<h2>cache for Smarty_CacheResource instances</h2>
<pre>$resources : array</pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>inherited_from</th>
<td>\Smarty_CacheResource::$$resources</td>
</tr></table>
</div></div>
</div>
<a name="%24contents" id="$contents"> </a><div class="element clickable property protected $contents" data-toggle="collapse" data-target=".$contents .collapse">
<h2>cache for contents</h2>
<pre>$contents : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
<a name="%24sysplugins" id="$sysplugins"> </a><div class="element clickable property protected $sysplugins" data-toggle="collapse" data-target=".$sysplugins .collapse">
<h2>resource types provided by the core</h2>
<pre>$sysplugins : array</pre>
<div class="labels"><span class="label">Inherited</span></div>
<div class="row collapse"><div class="detail-description">
<p class="long_description"></p>
<table class="table table-bordered"><tr>
<th>inherited_from</th>
<td>\Smarty_CacheResource::$$sysplugins</td>
</tr></table>
</div></div>
</div>
<a name="%24timestamps" id="$timestamps"> </a><div class="element clickable property protected $timestamps" data-toggle="collapse" data-target=".$timestamps .collapse">
<h2>cache for timestamps</h2>
<pre>$timestamps : array</pre>
<div class="labels"></div>
<div class="row collapse"><div class="detail-description"><p class="long_description"></p></div></div>
</div>
</div>
</div>
</div>
</div>
<div class="row"><footer class="span12">
            Template is built using <a href="http://twitter.github.com/bootstrap/">Twitter Bootstrap 2</a> and icons provided by <a href="http://glyphicons.com/">Glyphicons</a>.<br>
            Documentation is powered by <a href="http://www.phpdoc.org/">phpDocumentor 2.0.0a9</a> and<br>
            generated on 2012-08-25T11:49:26+02:00.<br></footer></div>
</div>
</body>
</html>
